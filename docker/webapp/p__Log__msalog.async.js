(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[41],{ffuz:function(e,t,a){e.exports={rankingList:"antd-pro-pages-log-msalog-rankingList",rankingItemNumber:"antd-pro-pages-log-msalog-rankingItemNumber",active:"antd-pro-pages-log-msalog-active",rankingItemNumber1:"antd-pro-pages-log-msalog-rankingItemNumber1",rankingItemTitle:"antd-pro-pages-log-msalog-rankingItemTitle",standardList:"antd-pro-pages-log-msalog-standardList",headerInfo:"antd-pro-pages-log-msalog-headerInfo",listContent:"antd-pro-pages-log-msalog-listContent",listContentItem:"antd-pro-pages-log-msalog-listContentItem",extraContentSearch:"antd-pro-pages-log-msalog-extraContentSearch",listCard:"antd-pro-pages-log-msalog-listCard",standardListForm:"antd-pro-pages-log-msalog-standardListForm",formResult:"antd-pro-pages-log-msalog-formResult",salesExtra:"antd-pro-pages-log-msalog-salesExtra",currentDate:"antd-pro-pages-log-msalog-currentDate",salesName:"antd-pro-pages-log-msalog-salesName",salesCard:"antd-pro-pages-log-msalog-salesCard",salesBar:"antd-pro-pages-log-msalog-salesBar",salesRank:"antd-pro-pages-log-msalog-salesRank",salesCardExtra:"antd-pro-pages-log-msalog-salesCardExtra",salesTypeRadio:"antd-pro-pages-log-msalog-salesTypeRadio",offlineCard:"antd-pro-pages-log-msalog-offlineCard",twoColLayout:"antd-pro-pages-log-msalog-twoColLayout",trendText:"antd-pro-pages-log-msalog-trendText",rankingTitle:"antd-pro-pages-log-msalog-rankingTitle",salesExtraWrap:"antd-pro-pages-log-msalog-salesExtraWrap"}},huMQ:function(e,t,a){"use strict";a.r(t);a("IzEo");var n,l,r,s,i,o,c,d,u,p,m,g,h,y,f,b,v,E,k,S,T,w,D,C,I,q,x,M,A,P,O,R=a("bx4M"),F=a("2Taf"),W=a.n(F),N=a("vZ4D"),L=a.n(N),Y=a("l4Ni"),j=a.n(Y),V=a("ujKo"),Q=a.n(V),H=a("MhPg"),K=a.n(H),J=(a("y8nQ"),a("Vl3Y")),z=(a("Znn+"),a("ZTPi")),U=a("q1tI"),B=a.n(U),G=a("MuoO"),Z=(a("Y2fQ"),a("wd/R")),X=a.n(Z),$=(a("zHco"),a("2qtc"),a("kLXV")),ee=(a("g9YV"),a("wCAj")),te=(a("14J3"),a("BMrR")),ae=(a("qVdP"),a("jsC+")),ne=(a("lUTK"),a("BvKs")),le=(a("miYZ"),a("tsqr")),re=(a("5NDa"),a("5rEg")),se=(a("Y+p1"),a("jJ9M")),ie=a.n(se),oe=a("+kNj"),ce=(a("ozfa"),a("MJZm")),de=(oe["a"].Description,ce["a"].TreeNode),ue=ce["a"].DirectoryTree,pe=(n=J["a"].create(),n((r=function(e){function t(){var e,a;W()(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return a=j()(this,(e=Q()(t)).call.apply(e,[this].concat(l))),a.state={expandedKeys:[],searchValue:"",autoExpandParent:!0},a.onSelect=function(e,t){console.log("Trigger Select",e,t)},a.onExpand=function(){console.log("Trigger Expand")},a}return K()(t,e),L()(t,[{key:"componentDidMount",value:function(){this.props.dispatch}},{key:"render",value:function(){return B.a.createElement("div",null,B.a.createElement(ue,{multiple:!0,defaultExpandAll:!0,onSelect:this.onSelect,onExpand:this.onExpand},B.a.createElement(de,{title:"parent 1",key:"0-0"},B.a.createElement(de,{title:"parent 1-0",key:"0-0-0"},B.a.createElement(de,{title:"leaf",key:"0-0-0-0"}),B.a.createElement(de,{title:"leaf",key:"0-0-0-1"}),B.a.createElement(de,{title:"leaf",key:"0-0-0-2"})),B.a.createElement(de,{title:"parent 1-1",key:"0-0-1"},B.a.createElement(de,{title:"leaf",key:"0-0-1-0"})),B.a.createElement(de,{title:"parent 1-2",key:"0-0-2"},B.a.createElement(de,{title:"leaf",key:"0-0-2-0"}),B.a.createElement(de,{title:"leaf",key:"0-0-2-1"})))))}}]),t}(U["PureComponent"]),l=r)),a("bbsP"),a("/wGt")),me=(a("Pwec"),a("CtXQ")),ge=(a("bP8k"),a("gFTJ")),he=(ce["a"].TreeNode,re["a"].Search,re["a"].TextArea),ye=(s=J["a"].create(),s((o=function(e){function t(){var e,a;W()(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return a=j()(this,(e=Q()(t)).call.apply(e,[this].concat(l))),a.state={treeData:[],seqId:"",result:""},a}return K()(t,e),L()(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.dispatch;console.log("this.props.reqId====",this.props.reqId);var a=["time",1];t({type:"msalog/LogDetailsFetch",payload:{reqId:this.props.reqId,filterId:null,sort:a,fields:null},callback:function(t){console.log("====48e====",t);var a=[];t.data.forEach(function(e,t){"request"==e.tips?a[0]=e:"enter"==e.tips?a[1]=e:"leave"==e.tips?a[2]=e:"result"==e.tips&&(a[3]=e)}),console.log("====55-===",a);var n=[];a.forEach(function(e){Object.keys(e)?(n.push(e),console.log("=====67====",e)):console.log("======69===")}),console.log("==73===",n),e.setState({treeData:n})}})}},{key:"render",value:function(){var e=this,t=this.props,a=(t.unitListVisible,t.unitRow,t.handleUnitModalVisible,this.state);a.searchValue,a.expandedKeys,a.autoExpandParent;console.log("===ddd==",this.state.treeData);var n=function(e){return B.a.createElement(ne["a"],{style:{width:"385px"}},B.a.createElement(he,{rows:16,disabled:!0,value:e,style:{backgroundColor:"white",color:"rgba(0,0,0,0.65)"}}))},l=[{title:"\u52a8\u4f5c",dataIndex:"tips",key:"tips",width:"15%"},{title:"\u65f6\u95f4",dataIndex:"time",width:"20%",key:"time",render:function(e){var t=new Date(e),a=t.getMonth()+1,n=t.getDate(),l=t.getHours(),r=t.getMinutes();return a>=1&&a<=9&&(a="0"+a),n>=0&&n<=9&&(n="0"+n),r>=0&&r<=9&&(r="0"+r),l>=0&&l<=9&&(l="0"+l),t.getFullYear()+"-"+a+"-"+n+" "+l+":"+r+":"+t.getSeconds()+"."+e.toString().substring(10,13)}},{title:"\u5e94\u7528\u4f4d\u7f6e",dataIndex:"addr",width:"25%",key:"addr"},{title:"\u5e94\u7528\u5206\u7c7b",dataIndex:"tag",width:"20%",key:"tag"},{title:"\u5e94\u7528ID",dataIndex:"app",width:"20%",key:"app"}],r=null,s="",i=0,o=this.state.treeData;console.log("===data===",o),o.forEach(function(t){console.log(t),console.log("====tips==",t.tips),"request"==t.tips&&e.setState({seqId:t.body.seqId}),"result"==t.tips?0===t.body.resCode?(r=0,s="",i=t.body.time):(r=-1,s=t.body.errMsg,i=t.body.time):"leave"==t.tips&&(0===t.body.resCode?(r=0,s="",i=t.body.time):(r=-1,s=t.body.errMsg,i=t.body.time))}),console.log("====rescode==",r),console.log("====result==",s);var c=this.props.service+"#"+this.props.entry;return B.a.createElement("div",null,B.a.createElement(ge["a"],null,B.a.createElement(ge["a"].Item,{label:"reqId"},this.props.reqId),B.a.createElement(ge["a"].Item,{label:"seqId"},this.state.seqId),B.a.createElement(ge["a"].Item,{label:"\u670d\u52a1\u63a5\u53e3"},c),B.a.createElement(ge["a"].Item,{label:"\u8017\u65f6"},i),B.a.createElement(ge["a"].Item,{label:"\u7ed3\u679c"},0===r?B.a.createElement(me["a"],{style:{color:"#52c41a"},type:"check"}):B.a.createElement("div",null,B.a.createElement(ae["a"],{overlay:n(s)},B.a.createElement("div",null,B.a.createElement("a",null,B.a.createElement("span",null,s.substring(0,50)+"..."))))))),B.a.createElement(ee["a"],{style:{marginTop:"24px"},columns:l,dataSource:o,pagination:!1}))}}]),t}(U["PureComponent"]),i=o))||i),fe=Object(G["connect"])(function(e){return e.ss})(J["a"].create()(ye)),be=(ce["a"].TreeNode,re["a"].Search,c=J["a"].create(),c((u=function(e){function t(){var e,a;W()(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return a=j()(this,(e=Q()(t)).call.apply(e,[this].concat(l))),a.state={treeData:[],visible:!1,tableKey:1,loadingstatus:!0,genjiedian:""},a.query=function(){console.log("======\u65e5\u5fd7\u8ddf\u8e2a========");var e=a.props.dispatch;e({type:"msalog/TrackLogDetailsFetch",payload:{sort:["time",1],fields:null,reqId:a.props.reqId,filterId:null},callback:function(t){0===t.code?(console.log("=====50==",t.data),a.setState({genjiedian:t.data}),e({type:"msalog/trackLogDetails",payload:{sort:["time",1],reqId:t.data},callback:function(e){0===e.code&&a.setState({treeData:e.data,tableKey:2,loadingstatus:!1})}})):le["a"].error("\u65e5\u5fd7\u8ddf\u8e2a\u5931\u8d25\uff1a\u8ddf\u8282\u70b9\u67e5\u627e\u9519\u8bef\uff01")}})},a.state={expandedKeys:[],searchValue:"",checkedKeys:["1.1"],selectedKeys:[]},a.onSelect=function(e,t,n){var l=[];l.push(B.a.createElement(fe,{reqId:e,service:t,entry:n,key:Math.random()})),a.setState({visible:!0,info:l})},a.onExpand=function(e){a.setState({expandedKeys:e})},a.onClose=function(){a.setState({visible:!1},function(){a.query()})},a}return K()(t,e),L()(t,[{key:"componentDidMount",value:function(){this.query()}},{key:"getParnentTree",value:function(e,t,a){var n=this;_.forEach(a,function(l){console.log("====e===",l),console.log("====id===",JSON.stringify(e)),console.log("====JSON.stringify(e.parentId)===",JSON.stringify(l.parentId)),JSON.stringify(e)==JSON.stringify(l.parentId)&&(l.children=[],t.push(l),n.getParnentTree(l.Id,l.children,a))})}},{key:"render",value:function(){var e=this,t=this.props,a=(t.unitListVisible,t.unitRow,t.handleUnitModalVisible,this.state),n=(a.searchValue,a.expandedKeys,a.autoExpandParent,this.state.treeData);console.log("=====114===",n);var l=new Array;if(void 0==n);else{var r=this.state.genjiedian,s=[];_.forEach(n,function(t){console.log("=====JSON.stringify(parent)===",JSON.stringify(r)),console.log("=====JSON.stringify(o.Id)===",JSON.stringify(t.Id)),JSON.stringify(r)==JSON.stringify(t.Id)&&(console.log("=====true==="),t.children=[],e.getParnentTree(t.Id,t.children,n),console.log("====o====",t),s.push(t))}),s=this.state.treeData,console.log("===treeArr==",s),void 0==s||0===s.length||l.push(s[0])}console.log("===list==",l);var i=[{title:"\u670d\u52a1\u540d",dataIndex:"service",key:"service",width:"20%",render:function(t,a){var n=e.props.reqId,l=a.Id;return n==l?B.a.createElement(B.a.Fragment,null,B.a.createElement("span",{style:{color:"#1890ff"}},a.service)):a.service}},{title:"\u63a5\u53e3\u540d",dataIndex:"entry",key:"entry",width:"20%",render:function(t,a){var n=e.props.reqId,l=a.Id;return n==l?B.a.createElement(B.a.Fragment,null,B.a.createElement("span",{style:{color:"#1890ff"}},a.entry)):a.entry}},{title:"\u5e94\u7528\u4f4d\u7f6e",dataIndex:"addr",key:"addr",width:"25%",render:function(t,a){var n=e.props.reqId,l=a.Id;return n==l?B.a.createElement(B.a.Fragment,null,B.a.createElement("span",{style:{color:"#1890ff"}},a.addr)):a.addr}},{title:"\u65f6\u95f4",dataIndex:"time",key:"time",width:"25%",render:function(t,a){var n=e.props.reqId,l=a.Id,r=a.time,s=r.toString().substring(10,13);return n==l?B.a.createElement(B.a.Fragment,null,B.a.createElement("span",{style:{color:"#1890ff"}},X()(r).format("YYYY-MM-DD HH:mm:ss")+"."+s)):X()(r).format("YYYY-MM-DD HH:mm:ss")+"."+s}},{title:"\u64cd\u4f5c",align:"center",key:"action",width:"10%",render:function(t){return B.a.createElement("span",null,B.a.createElement("a",{onClick:e.onSelect.bind(e,t.Id,t.service,t.entry)},"\u8be6\u60c5"))}}];return console.log("======266===",this.state.loadingstatus),B.a.createElement("div",null,B.a.createElement(ee["a"],{columns:i,dataSource:l,pagination:!1,key:this.state.tableKey,defaultExpandAllRows:!0,loading:void 0==this.state.loadingstatus}),B.a.createElement(pe["a"],{title:"\u8bf7\u6c42\u8be6\u60c5",placement:"right",closable:!0,onClose:this.onClose,visible:this.state.visible},this.state.info))}}]),t}(U["PureComponent"]),d=u))||d),ve=Object(G["connect"])(function(e){return e.ss})(J["a"].create()(be)),Ee=(oe["a"].Description,re["a"].TextArea),ke=(p=Object(G["connect"])(function(e){var t=e.msalog,a=e.loading;return{msalog:t,loading:a.effects["msalog/aggregatefetch"]}}),m=J["a"].create(),p(g=m((h=function(e){function t(){var e,a;W()(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return a=j()(this,(e=Q()(t)).call.apply(e,[this].concat(l))),a.state={data:[],display:"block",visible:!1,rqdisplay:"none",webappdisplay:"none"},a.showModal=function(){a.setState({visible:!0})},a.handleOk=function(e){console.log(e),a.setState({visible:!1})},a.handleCancel=function(e){console.log(e),a.setState({visible:!1})},a}return K()(t,e),L()(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.dispatch;console.log("===1====",this.props.rq),console.log("===2====",this.props.webapp),console.log("===3====",this.props.StartTime),console.log("===4====",this.props.EndTime);var a=this.props.rq,n=this.props.webapp,l="";console.log("---rq---",a),console.log("---webapp---",n),""===a&&""===n?(l="",this.setState({display:"block"})):""!=a?(console.log("00000"),l=a,this.setState({rqdisplay:"block",webappdisplay:"none"})):""!=n&&(console.log("1111"),l=n,this.setState({webappdisplay:"block",rqdisplay:"none"})),t({type:"msalog/logFetch",payload:{StartTime:this.props.StartTime,EndTime:this.props.EndTime,limit:10,skip:1,addr:l},callback:function(){var t=e.props,a=t.msalog;t.loading;console.log("====msalog====",a);var n=a.data.code;if(200===n){var l=a.data.datas;console.log("msa=====",l.res),e.setState({data:l.res,amount:l.rescount})}else le["a"].error("")}})}},{key:"render",value:function(){var e=this,t=function(e){return B.a.createElement(ne["a"],{style:{width:"385px"}},B.a.createElement(Ee,{rows:16,disabled:!0,value:JSON.stringify(e,null,"\t"),style:{backgroundColor:"white",color:"rgba(0,0,0,0.65)"}}))},a=[{title:"\u65f6\u95f4\uff08\u6beb\u79d2\uff09",dataIndex:"time",key:"time",width:"15%",sorter:function(e,t){return e.time-t.time},render:function(e){var t=new Date(e),a=t.getMonth()+1,n=t.getDate(),l=t.getHours(),r=t.getMinutes();return a>=1&&a<=9&&(a="0"+a),n>=0&&n<=9&&(n="0"+n),r>=0&&r<=9&&(r="0"+r),l>=0&&l<=9&&(l="0"+l),t.getFullYear()+"-"+a+"-"+n+" "+l+":"+r+":"+t.getSeconds()+"."+e.toString().substring(10,13)}},{title:"\u65e5\u5fd7\u7c7b\u578b",dataIndex:"type",key:"type",width:"10%",render:function(e){return-6===e?"access":-5===e?"action":-4===e?"error":-3===e?"warn":-2===e?"info":-1===e?"debug":"\u5176\u4ed6"}},{title:"\u5e94\u7528\u4f4d\u7f6e",dataIndex:"addr",key:"addr",width:"10%"},{title:"\u5e94\u7528\u5206\u7c7b",dataIndex:"tag",key:"tag",width:"10%"},{title:"\u5e94\u7528ID",dataIndex:"app",key:"app",width:"15%"},{title:"\u65e5\u5fd7\u8bf4\u660e",dataIndex:"tips",key:"tips",width:"10%"},{title:"\u65e5\u5fd7\u5185\u5bb9",dataIndex:"body",key:"body",width:"20%",render:function(a,n){var l=JSON.stringify(a);return B.a.createElement("div",null,B.a.createElement(ae["a"],{overlay:t(a)},B.a.createElement("div",null,B.a.createElement("a",{onClick:e.showModal},B.a.createElement("span",null,l.substring(0,50)+"...")))))}}];return B.a.createElement(U["Fragment"],null,B.a.createElement("h4",{style:{display:this.state.rqdisplay}},"\u5bb9\u5668"),B.a.createElement(te["a"],null),B.a.createElement("h4",{style:{display:this.state.webappdisplay}},"WebApp"),B.a.createElement("h4",{style:{display:""===this.state.webapp?"block":"none"}},"\u9519\u8bef\u65e5\u5fd7"),B.a.createElement(ee["a"],{columns:a,dataSource:this.state.data,pagination:!0,style:{display:this.state.display}}),B.a.createElement($["a"],{title:"Basic Modal",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel,destroyOnClose:!0,footer:null,width:700},B.a.createElement(ve,null)))}}]),t}(U["PureComponent"]),g=h))||g),a("v99g"),a("+n12")),Se=(a("DjyN"),a("NUBc")),Te=(a("+L6B"),a("2/Rp")),we=(a("jCWc"),a("kPKH")),De=(a("/zsF"),a("PArb")),Ce=(a("iQDF"),a("+eQT")),Ie=(a("sRBo"),a("kaz8")),qe=(a("OaEy"),a("2fM7")),xe=a("ffuz"),Me=a.n(xe),Ae=a("yP6+"),Pe=a("1Gbu"),Oe=a.n(Pe),Re=a("cQSq"),Fe=a.n(Re),We=(B.a.Component,B.a.lazy(function(){return a.e(7).then(a.bind(null,"4S9z"))})),Ne=(B.a.lazy(function(){return a.e(6).then(a.bind(null,"4VBN"))}),B.a.lazy(function(){return Promise.all([a.e(0),a.e(5)]).then(a.bind(null,"CmJS"))}),B.a.lazy(function(){return Promise.all([a.e(0),a.e(4)]).then(a.bind(null,"MdSA"))}),B.a.lazy(function(){return Promise.all([a.e(0),a.e(3)]).then(a.bind(null,"52lG"))}),J["a"].Item),Le=qe["a"].Option,Ye=re["a"].TextArea,je=(Ie["a"].Group,Ce["a"].MonthPicker,Ce["a"].RangePicker),Ve=z["a"].TabPane,Qe=(y=Object(G["connect"])(function(e){var t=e.chart,a=e.loading;return{chart:t,loading:a.effects["chart/fetch"]}}),f=Object(G["connect"])(function(e){var t=e.msalog,a=e.loading;return{msalog:t,loading:a.effects["msalog/fetch"]}}),b=J["a"].create(),y(v=f(v=b((E=function(e){function t(e){var a;return W()(this,t),a=j()(this,Q()(t).call(this,e)),a.TableCallback=function(e){console.log("===Tablekey==",e),a.setState({type:e},function(){a.TabsCallback(a.state.Tabskey)})},a.TabsCallback=function(e){console.log("===key==",e);var t=a.state.type;a.state.RqOrWebApp;console.log("===type==",t);var n=a.props,l=n.form.validateFieldsAndScroll,r=n.dispatch;l(function(n,l){console.log("====Formvalues===",l);var s=l.Fwcheckbox,i=(l.Rqcheckbox,l.WebApp,l.time);console.log("====time===",i);var o=l.type,c=l.reqId,d=l.JKM,u="",p="";if(void 0===i||"undefined"==i||0===i.length){for(var m=[],g=0;g<30;g++)m.unshift(new Date((new Date).setDate((new Date).getDate()-g)).toLocaleDateString());a.setState({thrityMonth:m});var h=m[0];u=(new Date).getTime();var y=h+" 00:00:00:000";y=y.substring(0,19),y=y.replace(/-/g,"/"),p=new Date(y).getTime()}else p=X()(i[0],"YYYY-MM-DD HH:mm:ss").valueOf(),u=X()(i[1],"YYYY-MM-DD HH:mm:ss").valueOf();var f="";f=void 0===s?"":s.join(",");var b="";if(b=void 0===d?"":d.join(","),"3"==t){a.setState({selectdisplay:"block",logType:o});var v=["time",-1];r({type:"msalog/findLogList",payload:{filterId:null,StartTime:u,EndTime:p,limit:10,skip:0,type:void 0==o?1:1*o,ServiceName:""==f?null:f,entry:""==b?null:b,sort:v,reqID:void 0==c?null:c,fields:null},callback:function(e){if(console.log("187e====",e),0===e.code){var t=e.data;console.log("msa=====",t.res),a.setState({data:t.res,amount:t.rescount,StartTime:u,EndTime:p,QueryServiceName:f,Queryentry:b,QueryreqId:c})}else le["a"].error("")}})}else a.setState({selectdisplay:"none"}),console.log("ServiceName==",f),console.log("entry==",b),r({type:"msalog/queryServiceCount",payload:{filterId:null,ServiceName:""==f?null:f,StartTime:1*u,EndTime:1*p,type:1*t,entry:""==b?null:b},callback:function(e){if(0===e.code){var t=e.data;a.setState({fwl:t.res,flag:1})}else le["a"].error("\u67e5\u8be2\u6570\u636e\u9519\u8bef\uff01")}});a.setState({Tabskey:e})})},a.handleChangeSalesType=function(e){a.setState({salesType:e.target.value})},a.handleTabChange=function(e){a.setState({currentTabKey:e})},a.handleRangePickerChange=function(e){var t=a.props.dispatch;a.setState({rangePickerValue:e}),t({type:"chart/fetchSalesData"})},a.selectDate=function(e){var t=a.props.dispatch;a.setState({rangePickerValue:Object(ke["b"])(e)}),t({type:"chart/fetchSalesData"})},a.isActive=function(e){var t=a.state.rangePickerValue,n=Object(ke["b"])(e);return t[0]&&t[1]&&t[0].isSame(n[0],"day")&&t[1].isSame(n[1],"day")?ie.a.currentDate:""},a.onClose=function(){a.setState({visible:!1})},a.handleFormReset=function(){var e=a.props,t=e.form;e.dispatch;t.resetFields(),a.setState({Fwcheckbox:"",JKM:"",time:"",Rqcheckbox:"",WebApp:""})},a.WfwonChange=function(e){console.log("===e===",e),e.length>1?a.setState({jkmDisabled:!0}):(a.setState({jkmDisabled:!1}),console.log("=====this.state.WFUService==",a.state.WFUService),a.setState({cities:1===e.length?a.state.WFUService[e[0]]:[]}))},a.showModal=function(e,t,n,l){var r=[];1===l?(a.setState({titleMsg:"\u65e5\u5fd7\u8ddf\u8e2a"}),r.push(B.a.createElement(ve,{reqId:e,service:t,entry:n,StartTime:a.state.StartTime,EndTime:a.state.EndTime,key:Math.random()}))):2===l&&(a.setState({titleMsg:"\u8bf7\u6c42\u8be6\u60c5"}),r.push(B.a.createElement(fe,{reqId:e,service:t,entry:n,StartTime:a.state.StartTime,EndTime:a.state.EndTime,key:Math.random()}))),a.setState({visible:!0,reqId:e,info:r})},a.onChange=function(e){console.log("Page: ",e),a.query(e)},a.query=function(e){var t=["time",-1],n=a.props.dispatch;n({type:"msalog/findLogList",payload:{filterId:null,StartTime:a.state.StartTime,EndTime:a.state.EndTime,limit:10,skip:10*(e-1),type:void 0==a.state.logType?1:2*a.state.logType,ServiceName:""==a.state.QueryServiceName?null:a.state.QueryServiceName,entry:""==a.state.Queryentry?null:a.state.Queryentry,sort:t,reqID:void 0==a.state.QueryreqId?null:a.state.QueryreqId,fields:null},callback:function(e){if(0===e.code){var t=e.data;console.log("msa=====",t.res),a.setState({data:t.res,amount:t.rescount})}else le["a"].error("")}})},a.state={div2:"block",div1:"none",salesType:"all",jkmDisabled:!1,selectdisplay:"none",logType:1,titleMsg:"",currentTabKey:"",visible:!1,QueryServiceName:"",Queryentry:"",QueryreqId:"",rangePickerValue:Object(ke["b"])("year"),cities:[],WFUService:{},WebAppfwl:[],EndTime:"",StartTime:"",container:[],fwl:[],flag:"",monthkey:"",rqfwl:[],RqOrWebApp:"1",describe:"\u5c55\u5f00",IconType:"up",type:"1",ErrorRes:[],service:"",OpenService:"",expandForm:!1,disabled:"none",thrityMonth:[],rq_name:"",webapp_name:"",WebAppList:[]},a}return K()(t,e),L()(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.dispatch;t({type:"msalog/ServiceFetch",payload:{host:null,port:0},callback:function(t){if(console.log("=====78e===",t),0===t.code){var a=t.data,n=new Array;for(var l in a)n.push(l);e.setState({service:n.sort(),OpenService:n,WFUService:a})}}}),this.TabsCallback("1")}},{key:"range",value:function(e,t){for(var a=[],n=e;n<t;n++)a.push(n);return a}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.state,n=a.rangePickerValue,l=(a.salesType,a.currentTabKey,a.service),r=(a.container,a.WebAppList,this.props),s=r.chart,i=r.loading,o=(s.visitData,s.visitData2,s.salesData);s.searchData,s.offlineData,s.offlineChartData,s.salesTypeData,s.salesTypeDataOnline,s.salesTypeDataOffline;if(""==l);else for(var c=[],d=0;d<l.length;d++)c.push(B.a.createElement(Le,{key:l[d]},l[d]));var u=function(e){return B.a.createElement(ne["a"],{style:{width:"385px"}},B.a.createElement(Ye,{rows:16,disabled:!0,value:e,style:{backgroundColor:"white",color:"rgba(0,0,0,0.65)"}}))},p=[{title:"\u65f6\u95f4",dataIndex:"time",key:"time",width:"15%",sorter:function(e,t){return e.time-t.time},render:function(e){var t=new Date(e),a=t.getMonth()+1,n=t.getDate(),l=t.getHours(),r=t.getMinutes();return a>=1&&a<=9&&(a="0"+a),n>=0&&n<=9&&(n="0"+n),r>=0&&r<=9&&(r="0"+r),l>=0&&l<=9&&(l="0"+l),t.getFullYear()+"-"+a+"-"+n+" "+l+":"+r+":"+t.getSeconds()+"."+e.toString().substring(10,13)}},{title:"\u5e94\u7528\u4f4d\u7f6e",dataIndex:"addr",key:"addr",width:"20%"},{title:"\u670d\u52a1\u63a5\u53e3",dataIndex:"service",key:"service",width:"20%",render:function(e,t){return B.a.createElement("div",null,B.a.createElement("span",null,t.body.service+"#"+t.body.entry))}},{title:"\u8017\u65f6",dataIndex:"body",key:"body",width:"10%",sorter:function(e,t){return e.time-t.time},render:function(e,t){return B.a.createElement("div",null,B.a.createElement("span",null,t.body.time))}},{title:"\u7ed3\u679c",dataIndex:"body",key:"body",width:"15%",render:function(e,t){return 0===e.resCode?B.a.createElement(me["a"],{style:{color:"#52c41a"},type:"check"}):B.a.createElement("div",null,B.a.createElement(ae["a"],{overlay:u(e.errMsg)},B.a.createElement("div",null,B.a.createElement("a",null,B.a.createElement("span",null,e.errMsg.substring(0,50)+"...")))))}},{title:"\u64cd\u4f5c",width:"20%",render:function(t,a){return B.a.createElement(U["Fragment"],null,B.a.createElement("a",{onClick:e.showModal.bind(e,a.body.reqId,a.body.service,a.body.entry,1)},"\u65e5\u5fd7\u8ddf\u8e2a"),B.a.createElement(De["a"],{type:"vertical"}),B.a.createElement("a",{onClick:e.showModal.bind(e,a.body.reqId,a.body.service,a.body.entry,2)},"\u8bf7\u6c42\u8be6\u60c5"))}}];return B.a.createElement("div",{className:Me.a.standardList},B.a.createElement(R["a"],{bordered:!1},B.a.createElement(te["a"],{span:24},B.a.createElement(J["a"],{onSubmit:this.handleSearch,layout:"inline"},B.a.createElement(we["a"],{span:10},B.a.createElement(Ne,{label:"\u5fae\u670d\u52a1\u540d"},t("Fwcheckbox",{})(B.a.createElement(qe["a"],{mode:"tags",style:{width:"250px"},placeholder:"\u8bf7\u8f93\u5165\u670d\u52a1\u540d\u6216\u8005\u9009\u62e9\u670d\u52a1\u540d\uff01",allowClear:!0,onChange:this.WfwonChange.bind(this)},c)))),B.a.createElement(we["a"],{span:10},B.a.createElement(Ne,{label:"\u63a5\u53e3\u540d\u79f0"},t("JKM",{})(B.a.createElement(qe["a"],{mode:"tags",style:{width:"250px"},placeholder:"\u8bf7\u8f93\u5165\u63a5\u53e3\u540d\u6216\u8005\u9009\u62e9\u63a5\u53e3\u540d\uff01",allowClear:!0,disabled:this.state.jkmDisabled},this.state.cities.map(function(e){return B.a.createElement(Le,{key:e},e)}))))),B.a.createElement(we["a"],{span:4},B.a.createElement(Te["a"],{type:"primary",onClick:this.TabsCallback.bind(this,"1")},"\u67e5\u8be2")))),B.a.createElement(te["a"],{span:24,style:{marginTop:"12px"}},B.a.createElement(J["a"],{layout:"inline"},B.a.createElement(we["a"],{span:10},B.a.createElement(Ne,{label:"\u9009\u62e9\u65e5\u671f"},t("time",{})(B.a.createElement(je,{style:{width:"250px"},showTime:{hideDisabledOptions:!0,defaultValue:[X()("00:00:00","HH:mm:ss"),X()("23:59:59","HH:mm:ss")]}})))),B.a.createElement(we["a"],{span:10,style:{display:this.state.selectdisplay}},B.a.createElement(Ne,{label:"\u65e5\u5fd7\u7ed3\u679c"},t("type",{})(B.a.createElement(qe["a"],{style:{width:250}},B.a.createElement(Le,{value:"1"},"\u5168\u90e8"),B.a.createElement(Le,{value:"2"},"\u5931\u8d25"))))),B.a.createElement(we["a"],{span:4,style:{paddingLeft:"block"==this.state.selectdisplay?"0%":"41.5%"}},B.a.createElement(Te["a"],{onClick:this.handleFormReset},"\u91cd\u7f6e")))),B.a.createElement(te["a"],{span:24},B.a.createElement(J["a"],{layout:"inline"},B.a.createElement(we["a"],{span:12,style:{display:this.state.selectdisplay}},B.a.createElement(Ne,{label:"\u8bf7\u6c42ID"},t("reqId",{})(B.a.createElement(re["a"],{style:{width:"250px"}})))))),B.a.createElement(z["a"],{defaultActiveKey:"1",onChange:this.TableCallback.bind()},B.a.createElement(Ve,{tab:"\u8bf7\u6c42\u7edf\u8ba1",key:"1"},B.a.createElement(te["a"],null,B.a.createElement(U["Suspense"],{fallback:null},B.a.createElement(We,{rangePickerValue:n,salesData:o,isActive:this.isActive,handleRangePickerChange:this.handleRangePickerChange,loading:i,selectDate:this.selectDate,fwl:this.state.fwl,flag:this.state.flag})))),B.a.createElement(Ve,{tab:"\u5931\u8d25\u7edf\u8ba1",key:"2"},B.a.createElement(te["a"],null,B.a.createElement(U["Suspense"],{fallback:null},B.a.createElement(We,{rangePickerValue:n,salesData:o,isActive:this.isActive,handleRangePickerChange:this.handleRangePickerChange,loading:i,selectDate:this.selectDate,fwl:this.state.fwl,flag:this.state.flag})))),B.a.createElement(Ve,{tab:"\u65e5\u5fd7\u5217\u8868",key:"3"},B.a.createElement(ee["a"],{columns:p,dataSource:this.state.data,pagination:!1}),B.a.createElement(Se["a"],{style:{paddingTop:"24px",textAlign:"center"},showQuickJumper:!0,defaultCurrent:1,total:this.state.amount,onChange:this.onChange.bind()})))),B.a.createElement(pe["a"],{title:this.state.titleMsg,placement:"right",closable:!0,onClose:this.onClose,visible:this.state.visible},this.state.info))}}]),t}(U["PureComponent"]),v=E))||v)||v)||v),He=Qe,Ke=(B.a.lazy(function(){return a.e(7).then(a.bind(null,"4S9z"))}),B.a.lazy(function(){return a.e(6).then(a.bind(null,"4VBN"))})),Je=(B.a.lazy(function(){return Promise.all([a.e(0),a.e(5)]).then(a.bind(null,"CmJS"))}),B.a.lazy(function(){return Promise.all([a.e(0),a.e(4)]).then(a.bind(null,"MdSA"))}),B.a.lazy(function(){return Promise.all([a.e(0),a.e(3)]).then(a.bind(null,"52lG"))}),J["a"].Item),ze=qe["a"].Option,Ue=re["a"].TextArea,Be=(Ie["a"].Group,Ce["a"].MonthPicker,Ce["a"].RangePicker),_e=z["a"].TabPane,Ge=(k=Object(G["connect"])(function(e){var t=e.chart,a=e.loading;return{chart:t,loading:a.effects["chart/fetch"]}}),S=Object(G["connect"])(function(e){var t=e.msalog,a=e.loading;return{msalog:t,loading:a.effects["msalog/fetch"]}}),T=J["a"].create(),k(w=S(w=T((D=function(e){function t(e){var a;return W()(this,t),a=j()(this,Q()(t).call(this,e)),a.onClose=function(){a.setState({visible:!1})},a.showModal=function(e,t,n,l){console.log("===reqId===",e);var r=[];1===l?(a.setState({titleMsg:"\u65e5\u5fd7\u8ddf\u8e2a"}),r.push(B.a.createElement(ve,{reqId:e,service:t,entry:n,StartTime:a.state.StartTime,EndTime:a.state.EndTime,key:Math.random()}))):2===l&&(a.setState({titleMsg:"\u8bf7\u6c42\u8be6\u60c5"}),r.push(B.a.createElement(fe,{reqId:e,service:t,entry:n,StartTime:a.state.StartTime,EndTime:a.state.EndTime,key:Math.random()}))),a.setState({visible:!0,reqId:e,info:r})},a.TableCallback=function(e){console.log("===Tablekey==",e),a.setState({type:e},function(){a.TabsCallback(a.state.Tabskey)})},a.TabsCallback=function(e){console.log("===key==",e);var t=a.state.type;a.state.RqOrWebApp;console.log("===type==",t);var n=a.props,l=n.form.validateFieldsAndScroll,r=n.dispatch;l(function(n,l){console.log("====Formvalues===",l);l.Fwcheckbox;var s=l.Rqcheckbox,i=(l.WebApp,l.time),o=(l.JKM,""),c="";if(void 0===i||"undefined"==i||0===i.length){for(var d=[],u=0;u<30;u++)d.unshift(new Date((new Date).setDate((new Date).getDate()-u)).toLocaleDateString());a.setState({thrityMonth:d});var p=d[0];o=(new Date).getTime();var m=p+" 00:00:00:000";m=m.substring(0,19),m=m.replace(/-/g,"/"),c=new Date(m).getTime()}else c=X()(i[0],"YYYY-MM-DD HH:mm:ss").valueOf(),o=X()(i[1],"YYYY-MM-DD HH:mm:ss").valueOf();var g=null;if(g=void 0===s?null:s.join(","),"3"==t){var h=["time",-1];a.setState({selectdisplay:"block"}),r({type:"msalog/findContainerLogList",payload:{filterId:null,StartTime:1*o,EndTime:1*c,limit:10,skip:0,type:void 0==l.type?1:1*l.type,Container:g,sort:h,reqID:void 0==l.reqId?null:l.reqId,fields:null},callback:function(e){if(console.log("=====182e=====",e),0===e.code){var t=e.data;console.log("msa=====",t.res),a.setState({containerDataList:t.res,amount:t.rescount,StartTime:1*o,EndTime:1*c,QueryRQName:g})}else le["a"].error("\u67e5\u8be2\u65e5\u5fd7\u5217\u8868\u5931\u8d25\uff01")}})}else a.setState({selectdisplay:"none"}),r({type:"msalog/RQaggregatefetch",payload:{filterId:null,RqName:g,StartTime:1*o,EndTime:1*c,type:1*t},callback:function(e){if(console.log("=====e147=====",e),0===e.code){var t=e.data;a.setState({rqfwl:t.RqRes,flag:1})}else le["a"].error("\u5bb9\u5668\u65e5\u5fd7\u67e5\u8be2\u5931\u8d25\uff01")}});a.setState({Tabskey:e})})},a.handleChangeSalesType=function(e){a.setState({salesType:e.target.value})},a.handleTabChange=function(e){a.setState({currentTabKey:e})},a.handleRangePickerChange=function(e){var t=a.props.dispatch;a.setState({rangePickerValue:e}),t({type:"chart/fetchSalesData"})},a.selectDate=function(e){var t=a.props.dispatch;a.setState({rangePickerValue:Object(ke["b"])(e)}),t({type:"chart/fetchSalesData"})},a.isActive=function(e){var t=a.state.rangePickerValue,n=Object(ke["b"])(e);return t[0]&&t[1]&&t[0].isSame(n[0],"day")&&t[1].isSame(n[1],"day")?ie.a.currentDate:""},a.onClose=function(){a.setState({visible:!1})},a.handleFormReset=function(){var e=a.props,t=e.form;e.dispatch;t.resetFields(),a.setState({Fwcheckbox:"",JKM:"",time:"",Rqcheckbox:"",WebApp:""})},a.WfwonChange=function(e){console.log("===e===",e),e.length>1?a.setState({jkmDisabled:!0}):(a.setState({jkmDisabled:!1}),console.log("=====this.state.WFUService==",a.state.WFUService),a.setState({cities:1===e.length?a.state.WFUService[e[0]]:[]}))},a.onChange=function(e){console.log("Page: ",e),a.query(e)},a.query=function(e){var t=["time",-1],n=a.props.dispatch;n({type:"msalog/findContainerLogList",payload:{filterId:null,StartTime:a.state.StartTime,EndTime:a.state.EndTime,limit:10,skip:10*(e-1),type:1,Container:a.state.QueryRQName,sort:t,reqID:null,fields:null},callback:function(e){if(console.log("=====182e=====",e),0===e.code){var t=e.data;console.log("msa=====",t.res),a.setState({containerDataList:t.res,amount:t.rescount,StartTime:1*timestamp,EndTime:1*LastMonthtimestamp,QueryRQName:RqName})}else le["a"].error("\u67e5\u8be2\u65e5\u5fd7\u5217\u8868\u5931\u8d25\uff01")}})},a.state={div2:"block",div1:"none",QueryRQName:"",salesType:"all",jkmDisabled:!1,currentTabKey:"",visible:!1,containerDataList:[],rangePickerValue:Object(ke["b"])("year"),cities:[],WFUService:{},WebAppfwl:[],container:[],fwl:[],flag:"",monthkey:"",rqfwl:[],RqOrWebApp:"1",describe:"\u5c55\u5f00",IconType:"up",type:"1",ErrorRes:[],service:"",OpenService:"",expandForm:!1,disabled:"none",thrityMonth:[],rq_name:"",webapp_name:"",WebAppList:[]},a}return K()(t,e),L()(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.dispatch;t({type:"msalog/fetch",payload:{continer:null,status:"0",currentPage:0,pageSize:0},callback:function(t){console.log("===e75=====",t),e.setState({container:t})}}),this.TabsCallback("2")}},{key:"range",value:function(e,t){for(var a=[],n=e;n<t;n++)a.push(n);return a}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.state,n=a.rangePickerValue,l=(a.salesType,a.currentTabKey,a.service,a.container),r=(a.WebAppList,this.props),s=r.chart,i=r.loading,o=(s.visitData,s.visitData2,s.salesData);s.searchData,s.offlineData,s.offlineChartData,s.salesTypeData,s.salesTypeDataOnline,s.salesTypeDataOffline;if(""==l);else for(var c=[],d=0;d<l.length;d++)c.push(B.a.createElement(ze,{key:l[d]},l[d]));var u=function(e){return B.a.createElement(ne["a"],{style:{width:"385px"}},B.a.createElement(Ue,{rows:16,disabled:!0,value:e,style:{backgroundColor:"white",color:"rgba(0,0,0,0.65)"}}))},p=[{title:"\u65f6\u95f4",dataIndex:"time",key:"time",width:"15%",sorter:function(e,t){return e.time-t.time},render:function(e){var t=new Date(e),a=t.getMonth()+1,n=t.getDate(),l=t.getHours(),r=t.getMinutes();return a>=1&&a<=9&&(a="0"+a),n>=0&&n<=9&&(n="0"+n),r>=0&&r<=9&&(r="0"+r),l>=0&&l<=9&&(l="0"+l),t.getFullYear()+"-"+a+"-"+n+" "+l+":"+r+":"+t.getSeconds()+"."+e.toString().substring(10,13)}},{title:"\u5e94\u7528\u4f4d\u7f6e",dataIndex:"addr",key:"addr",width:"20%"},{title:"\u670d\u52a1\u63a5\u53e3",dataIndex:"service",key:"service",width:"20%",render:function(e,t){return B.a.createElement("div",null,B.a.createElement("span",null,t.body.service+"#"+t.body.entry))}},{title:"\u8017\u65f6",dataIndex:"body",key:"body1",width:"10%",sorter:function(e,t){return e.time-t.time},render:function(e,t){return B.a.createElement("div",null,B.a.createElement("span",null,t.body.time))}},{title:"\u7ed3\u679c",dataIndex:"body",key:"body",width:"15%",render:function(e,t){return console.log("====text===",e),0===e.resCode?B.a.createElement(me["a"],{style:{color:"#52c41a"},type:"check"}):B.a.createElement("div",null,B.a.createElement(ae["a"],{overlay:u(e.errMsg)},B.a.createElement("div",null,B.a.createElement("a",null,B.a.createElement("span",null,e.errMsg.substring(0,50)+"...")))))}},{title:"\u64cd\u4f5c",width:"20%",render:function(t,a){return console.log("=====record==",a),B.a.createElement(U["Fragment"],null,B.a.createElement("a",{onClick:e.showModal.bind(e,a.body.reqId,a.body.service,a.body.entry,1)},"\u65e5\u5fd7\u8ddf\u8e2a"),B.a.createElement(De["a"],{type:"vertical"}),B.a.createElement("a",{onClick:e.showModal.bind(e,a.body.reqId,a.body.service,a.body.entry,2)},"\u8bf7\u6c42\u8be6\u60c5"))}}];return B.a.createElement("div",{className:Me.a.standardList},B.a.createElement(R["a"],{bordered:!1},B.a.createElement(te["a"],null,B.a.createElement(J["a"],{onSubmit:this.handleSearch,layout:"inline"},B.a.createElement(te["a"],{span:24},B.a.createElement(we["a"],{span:9},B.a.createElement(Je,{label:"\u5bb9\u5668\u540d\u79f0"},t("Rqcheckbox",{})(B.a.createElement(qe["a"],{mode:"tags",style:{width:"250px"},placeholder:"\u8bf7\u8f93\u5165\u5bb9\u5668\u540d\u79f0\u6216\u8005\u9009\u62e9\u5bb9\u5668\u540d\u79f0\uff01",allowClear:!0},c)))),B.a.createElement(we["a"],{span:12},B.a.createElement(Je,{label:"\u9009\u62e9\u65e5\u671f"},t("time",{})(B.a.createElement(Be,{showTime:{hideDisabledOptions:!0,defaultValue:[X()("00:00:00","HH:mm:ss"),X()("23:59:59","HH:mm:ss")]}})))),B.a.createElement(we["a"],{span:3},B.a.createElement(Te["a"],{type:"primary",onClick:this.TabsCallback.bind(this,"2")},"\u67e5\u8be2"))),B.a.createElement(te["a"],{span:24},B.a.createElement(we["a"],{span:9,style:{display:this.state.selectdisplay}},B.a.createElement(Je,{label:"\u8bf7\u6c42  ID"},t("reqId",{})(B.a.createElement(re["a"],{style:{width:"250px"}})))),B.a.createElement(we["a"],{span:12,style:{display:this.state.selectdisplay}},B.a.createElement(Je,{label:"\u65e5\u5fd7\u7ed3\u679c"},t("type",{})(B.a.createElement(qe["a"],{style:{width:80}},B.a.createElement(ze,{value:"1"},"\u5168\u90e8"),B.a.createElement(ze,{value:"2"},"\u5931\u8d25"))))),B.a.createElement(we["a"],{span:3,style:{paddingLeft:"block"==this.state.selectdisplay?"0%":"87.5%"}},B.a.createElement(Te["a"],{style:{display:"block"},onClick:this.handleFormReset},"\u91cd\u7f6e"))))),B.a.createElement(z["a"],{defaultActiveKey:"1",onChange:this.TableCallback.bind(),style:{paddingTop:"20px"}},B.a.createElement(_e,{tab:"\u8bf7\u6c42\u7edf\u8ba1",key:"1"},B.a.createElement(te["a"],null,B.a.createElement(U["Suspense"],{fallback:null},B.a.createElement(Ke,{rangePickerValue:n,salesData:o,isActive:this.isActive,handleRangePickerChange:this.handleRangePickerChange,loading:i,selectDate:this.selectDate,rqfwl:this.state.rqfwl,flag:this.state.flag})))),B.a.createElement(_e,{tab:"\u5931\u8d25\u7edf\u8ba1",key:"2"},B.a.createElement(te["a"],null,B.a.createElement(U["Suspense"],{fallback:null},B.a.createElement(Ke,{rangePickerValue:n,salesData:o,isActive:this.isActive,handleRangePickerChange:this.handleRangePickerChange,loading:i,selectDate:this.selectDate,rqfwl:this.state.rqfwl,flag:this.state.flag})))),B.a.createElement(_e,{tab:"\u65e5\u5fd7\u5217\u8868",key:"3"},B.a.createElement(ee["a"],{columns:p,dataSource:this.state.containerDataList,pagination:!1}),B.a.createElement(Se["a"],{style:{paddingTop:"24px",textAlign:"center"},showQuickJumper:!0,defaultCurrent:1,total:this.state.amount,onChange:this.onChange.bind()}))),B.a.createElement(pe["a"],{title:this.state.titleMsg,placement:"right",closable:!0,onClose:this.onClose,visible:this.state.visible},this.state.info)))}}]),t}(U["PureComponent"]),w=D))||w)||w)||w),Ze=Ge,Xe=(B.a.lazy(function(){return a.e(7).then(a.bind(null,"4S9z"))}),B.a.lazy(function(){return a.e(6).then(a.bind(null,"4VBN"))})),$e=(B.a.lazy(function(){return Promise.all([a.e(0),a.e(5)]).then(a.bind(null,"CmJS"))}),B.a.lazy(function(){return Promise.all([a.e(0),a.e(4)]).then(a.bind(null,"MdSA"))}),B.a.lazy(function(){return Promise.all([a.e(0),a.e(3)]).then(a.bind(null,"52lG"))}),J["a"].Item),et=qe["a"].Option,tt=re["a"].TextArea,at=(Ie["a"].Group,Ce["a"].MonthPicker,Ce["a"].RangePicker),nt=z["a"].TabPane,lt=(C=Object(G["connect"])(function(e){var t=e.chart,a=e.loading;return{chart:t,loading:a.effects["chart/fetch"]}}),I=Object(G["connect"])(function(e){var t=e.msalog,a=e.loading;return{msalog:t,loading:a.effects["msalog/fetch"]}}),q=J["a"].create(),C(x=I(x=q((M=function(e){function t(e){var a;return W()(this,t),a=j()(this,Q()(t).call(this,e)),a.TableCallback=function(e){console.log("===Tablekey==",e),a.setState({type:e},function(){a.TabsCallback(a.state.Tabskey)})},a.TabsCallback=function(e){console.log("===key==",e);var t=a.state.type;a.state.RqOrWebApp;console.log("===type==",t);var n=a.props,l=n.form.validateFieldsAndScroll,r=n.dispatch;l(function(n,l){console.log("====Formvalues===",l);l.Fwcheckbox,l.Rqcheckbox;var s=l.WebApp,i=l.time,o=l.type,c=l.reqId,d=(l.JKM,""),u="";if(void 0===i||"undefined"==i||0===i.length){for(var p=[],m=0;m<30;m++)p.unshift(new Date((new Date).setDate((new Date).getDate()-m)).toLocaleDateString());a.setState({thrityMonth:p});var g=p[0];d=(new Date).getTime();var h=g+" 00:00:00:000";h=h.substring(0,19),h=h.replace(/-/g,"/"),u=new Date(h).getTime()}else u=X()(i[0],"YYYY-MM-DD HH:mm:ss").valueOf(),d=X()(i[1],"YYYY-MM-DD HH:mm:ss").valueOf();var y=null;if(y=void 0===s?null:s.join(","),"3"==t){var f=["time",-1];a.setState({selectdisplay:"block",logType:o}),r({type:"msalog/findWebappLogList",payload:{filterId:null,StartTime:d,EndTime:u,limit:10,skip:0,type:void 0==o?1:1*o,Webapp:y,sort:f,reqID:void 0==c?null:c,fields:null},callback:function(e){if(console.log("=====182e=====",e),0===e.code){var t=e.data;console.log("msa=====",t.res),a.setState({data:t.res,amount:t.rescount,StartTime:d,EndTime:u,QueryWebAppName:y,QueryreqId:c})}else le["a"].error("\u67e5\u8be2\u65e5\u5fd7\u5217\u8868\u5931\u8d25\uff01")}})}else a.setState({selectdisplay:"none"}),r({type:"msalog/WebAppAggregatefetch",payload:{filterId:null,WebApp:y,StartTime:1*d,EndTime:1*u,type:1*t},callback:function(e){if(console.log("===216e=====",e),0===e.code){var t=e.data;a.setState({WebAppfwl:t.RqRes,flag:1})}else le["a"].error("webapp\u65e5\u5fd7\u67e5\u8be2\u5931\u8d25\uff01")}});a.setState({Tabskey:e})})},a.handleChangeSalesType=function(e){a.setState({salesType:e.target.value})},a.handleTabChange=function(e){a.setState({currentTabKey:e})},a.handleRangePickerChange=function(e){var t=a.props.dispatch;a.setState({rangePickerValue:e}),t({type:"chart/fetchSalesData"})},a.selectDate=function(e){var t=a.props.dispatch;a.setState({rangePickerValue:Object(ke["b"])(e)}),t({type:"chart/fetchSalesData"})},a.isActive=function(e){var t=a.state.rangePickerValue,n=Object(ke["b"])(e);return t[0]&&t[1]&&t[0].isSame(n[0],"day")&&t[1].isSame(n[1],"day")?ie.a.currentDate:""},a.onClose=function(){a.setState({visible:!1})},a.handleFormReset=function(){var e=a.props,t=e.form;e.dispatch;t.resetFields(),a.setState({Fwcheckbox:"",JKM:"",time:"",Rqcheckbox:"",WebApp:""})},a.showModal=function(e,t,n,l){console.log("===reqId===",e);var r=[];1===l?(a.setState({titleMsg:"\u65e5\u5fd7\u8ddf\u8e2a"}),r.push(B.a.createElement(ve,{reqId:e,service:t,entry:n,StartTime:a.state.StartTime,EndTime:a.state.EndTime,key:Math.random()}))):2===l&&(a.setState({titleMsg:"\u8bf7\u6c42\u8be6\u60c5"}),r.push(B.a.createElement(fe,{reqId:e,service:t,entry:n,StartTime:a.state.StartTime,EndTime:a.state.EndTime,key:Math.random()}))),a.setState({visible:!0,reqId:e,info:r})},a.onChange=function(e){console.log("Page: ",e),a.query(e)},a.query=function(e){console.log("=====363===");var t=["time",-1],n=a.props.dispatch;n({type:"msalog/findWebappLogList",payload:{filterId:null,StartTime:a.state.StartTime,EndTime:a.state.EndTime,limit:10,skip:10*(e-1),type:void 0==a.state.logType?1:1*a.state.logType,Webapp:a.state.QueryWebAppName,sort:t,reqID:void 0==a.state.QueryreqId?null:a.state.QueryreqId,fields:null},callback:function(e){if(console.log("====e377===",e),0===e.code){var t=e.data;console.log("msa=====",t.res),a.setState({data:t.res,amount:t.rescount})}else le["a"].error("\u67e5\u8be2\u65e5\u5fd7\u5217\u8868\u5931\u8d25\uff01")}})},a.state={div2:"block",div1:"none",salesType:"all",jkmDisabled:!1,currentTabKey:"",visible:!1,logType:1,QueryreqId:"",titleMsg:"",rangePickerValue:Object(ke["b"])("year"),cities:[],WFUService:{},WebAppfwl:[],QueryWebAppName:"",container:[],fwl:[],flag:"",monthkey:"",rqfwl:[],RqOrWebApp:"1",describe:"\u5c55\u5f00",IconType:"up",type:"1",ErrorRes:[],service:"",OpenService:"",expandForm:!1,disabled:"none",thrityMonth:[],rq_name:"",webapp_name:"",WebAppList:[]},a}return K()(t,e),L()(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.dispatch;t({type:"msalog/WebAppfetch",payload:{currentPage:1,pageSize:1e8,status:"",tags:"",name:""},callback:function(t){var a=[];for(var n in t.data.WebApp)a.push(n);e.setState({WebAppList:a})}}),this.TabsCallback("3")}},{key:"onOk",value:function(e){var t=this,a=this.props.dispatch,n=e._d.getTime();console.log("===(a._d)==",e._d),console.log("===timestamp2==",n),a({type:"msalog/accessFetch",payload:{time:n},callback:function(){var e=t.props,a=e.msalog;e.loading;console.log("msalog===",a)}})}},{key:"range",value:function(e,t){for(var a=[],n=e;n<t;n++)a.push(n);return a}},{key:"render",value:function(){for(var e=this,t=this.props.form.getFieldDecorator,a=this.state,n=a.rangePickerValue,l=(a.salesType,a.currentTabKey,a.service,a.container,a.WebAppList),r=this.props,s=r.chart,i=r.loading,o=(s.visitData,s.visitData2,s.salesData),c=(s.searchData,s.offlineData,s.offlineChartData,s.salesTypeData,s.salesTypeDataOnline,s.salesTypeDataOffline,[]),d=0;d<l.length;d++)c.push(B.a.createElement(et,{key:l[d]},l[d]));var u=function(e){return B.a.createElement(ne["a"],{style:{width:"385px"}},B.a.createElement(tt,{rows:16,disabled:!0,value:e,style:{backgroundColor:"white",color:"rgba(0,0,0,0.65)"}}))},p=[{title:"\u65f6\u95f4",dataIndex:"time",key:"time",width:"15%",sorter:function(e,t){return e.time-t.time},render:function(e){var t=new Date(e),a=t.getMonth()+1,n=t.getDate(),l=t.getHours(),r=t.getMinutes();return a>=1&&a<=9&&(a="0"+a),n>=0&&n<=9&&(n="0"+n),r>=0&&r<=9&&(r="0"+r),l>=0&&l<=9&&(l="0"+l),t.getFullYear()+"-"+a+"-"+n+" "+l+":"+r+":"+t.getSeconds()+"."+e.toString().substring(10,13)}},{title:"\u5e94\u7528\u4f4d\u7f6e",dataIndex:"addr",key:"addr",width:"20%"},{title:"\u670d\u52a1\u63a5\u53e3",dataIndex:"service",key:"service",width:"20%",render:function(e,t){return B.a.createElement("div",null,B.a.createElement("span",null,t.body.service+"#"+t.body.entry))}},{title:"\u8017\u65f6",dataIndex:"body",key:"body1",width:"10%",sorter:function(e,t){return e.time-t.time},render:function(e,t){return B.a.createElement("div",null,B.a.createElement("span",null,t.body.time))}},{title:"\u7ed3\u679c",dataIndex:"body",key:"body",width:"15%",render:function(e,t){return console.log("====text===",e),0===e.resCode?B.a.createElement(me["a"],{style:{color:"#52c41a"},type:"check"}):B.a.createElement("div",null,B.a.createElement(ae["a"],{overlay:u(e.errMsg)},B.a.createElement("div",null,B.a.createElement("a",null,B.a.createElement("span",null,e.errMsg.substring(0,50)+"...")))))}},{title:"\u64cd\u4f5c",width:"20%",render:function(t,a){return console.log("=====record==",a),B.a.createElement(U["Fragment"],null,B.a.createElement("a",{onClick:e.showModal.bind(e,a.body.reqId,a.body.service,a.body.entry,1)},"\u65e5\u5fd7\u8ddf\u8e2a"),B.a.createElement(De["a"],{type:"vertical"}),B.a.createElement("a",{onClick:e.showModal.bind(e,a.body.reqId,a.body.service,a.body.entry,2)},"\u8bf7\u6c42\u8be6\u60c5"))}}];return B.a.createElement("div",{className:Me.a.standardList},B.a.createElement(R["a"],{bordered:!1},B.a.createElement(te["a"],{span:24},B.a.createElement(J["a"],{onSubmit:this.handleSearch,layout:"inline"},B.a.createElement(te["a"],{span:24},B.a.createElement(we["a"],{span:10},B.a.createElement($e,{label:"WebApp"},t("WebApp",{})(B.a.createElement(qe["a"],{mode:"tags",style:{width:"250px"},placeholder:"\u8bf7\u8f93\u5165WebApp\u540d\u79f0\u6216\u8005\u9009\u62e9WebApp\u540d\u79f0\uff01",allowClear:!0},c)))),B.a.createElement(we["a"],{span:10},B.a.createElement($e,{label:"\u9009\u62e9\u65e5\u671f"},t("time",{})(B.a.createElement(at,{showTime:{hideDisabledOptions:!0,defaultValue:[X()("00:00:00","HH:mm:ss"),X()("23:59:59","HH:mm:ss")]},style:{width:"250px"}})))),B.a.createElement(we["a"],{span:4},B.a.createElement(Te["a"],{type:"primary",onClick:this.TabsCallback.bind(this,"3")},"\u67e5\u8be2"))),B.a.createElement(te["a"],{span:24},B.a.createElement(we["a"],{span:10,style:{display:this.state.selectdisplay}},B.a.createElement($e,{label:"\u8bf7\u6c42  ID"},t("reqId",{})(B.a.createElement(re["a"],{style:{width:"250px"}})))),B.a.createElement(we["a"],{span:10,style:{display:this.state.selectdisplay}},B.a.createElement($e,{label:"\u65e5\u5fd7\u7ed3\u679c"},t("type",{})(B.a.createElement(qe["a"],{style:{width:80}},B.a.createElement(et,{value:"1"},"\u5168\u90e8"),B.a.createElement(et,{value:"2"},"\u5931\u8d25"))))),B.a.createElement(we["a"],{span:4,style:{paddingLeft:"block"==this.state.selectdisplay?"0%":"83.5%"}},B.a.createElement(Te["a"],{style:{display:"block"},onClick:this.handleFormReset},"\u91cd\u7f6e"))))),B.a.createElement(z["a"],{defaultActiveKey:"1",onChange:this.TableCallback.bind(),style:{paddingTop:"20px"}},B.a.createElement(nt,{tab:"\u8bf7\u6c42\u7edf\u8ba1",key:"1"},B.a.createElement(te["a"],null,B.a.createElement(U["Suspense"],{fallback:null},B.a.createElement(Xe,{rangePickerValue:n,salesData:o,isActive:this.isActive,handleRangePickerChange:this.handleRangePickerChange,loading:i,selectDate:this.selectDate,rqfwl:this.state.WebAppfwl,flag:this.state.flag})))),B.a.createElement(nt,{tab:"\u5931\u8d25\u7edf\u8ba1",key:"2"},B.a.createElement(te["a"],null,B.a.createElement(U["Suspense"],{fallback:null},B.a.createElement(Xe,{rangePickerValue:n,salesData:o,isActive:this.isActive,handleRangePickerChange:this.handleRangePickerChange,loading:i,selectDate:this.selectDate,rqfwl:this.state.WebAppfwl,flag:this.state.flag})))),B.a.createElement(nt,{tab:"\u65e5\u5fd7\u5217\u8868",key:"3"},B.a.createElement(ee["a"],{columns:p,dataSource:this.state.data,pagination:!1}),B.a.createElement(Se["a"],{style:{paddingTop:"24px",textAlign:"center"},showQuickJumper:!0,defaultCurrent:1,total:this.state.amount,onChange:this.onChange.bind()})))),B.a.createElement(pe["a"],{title:this.state.titleMsg,placement:"right",closable:!0,onClose:this.onClose,visible:this.state.visible},this.state.info))}}]),t}(U["PureComponent"]),x=M))||x)||x)||x),rt=lt,st=z["a"].TabPane,it=(A=J["a"].create(),A((O=function(e){function t(e){var a;return W()(this,t),a=j()(this,Q()(t).call(this,e)),a.TabsCallback=function(e){if(console.log("===key==",e),"1"==e){var t=[];t.push(B.a.createElement(He,{key:Math.random()})),a.setState({Serviceinfo:t})}else if("2"==e){var n=[];n.push(B.a.createElement(Ze,{key:Math.random()})),a.setState({Conatinerinfo:n})}else if("3"==e){var l=[];l.push(B.a.createElement(rt,{key:Math.random()})),a.setState({WebAppinfo:l})}},a.state={},a}return K()(t,e),L()(t,[{key:"componentDidMount",value:function(){var e=[];e.push(B.a.createElement(He,{key:Math.random()})),this.setState({Serviceinfo:e})}},{key:"render",value:function(){return B.a.createElement("div",null,B.a.createElement(R["a"],{bordered:!1},B.a.createElement(z["a"],{defaultActiveKey:"1",onChange:this.TabsCallback.bind()},B.a.createElement(st,{tab:"\u670d\u52a1",key:"1"},this.state.Serviceinfo),B.a.createElement(st,{tab:"\u5bb9\u5668",key:"2"},this.state.Conatinerinfo),B.a.createElement(st,{tab:"WebApp",key:"3"},this.state.WebAppinfo))))}}]),t}(U["PureComponent"]),P=O))||P);t["default"]=it}}]);